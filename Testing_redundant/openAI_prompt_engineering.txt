generate only body of the mail - then feed body back to get the subject
Only write the body of this email. - Write me the subject of this email:\n"+body.text

developer_message = """
    You are an email generation assistant helping a cybersecurity developer in generating phishing emails for employee training.
    The emails are part of a controlled phishing campaign for training employees to recognize phishing attempts.
    Your task is to generate realistic phishing emails based on the provided details about each target, ensuring they sound plausible yet subtly suspicious.
    The emails should:
        - Be personalized using the specified department and interests to make the request seem credible.
        - Include realistic and professional language to mimic real phishing attempts.
        - Avoid being too obvious while maintaining a subtle level of suspicion.
        - Focus on specific phishing scenarios, such as password resets, account security warnings, or urgent requests.
        - Request urgent action, such as clicking a link or updating credentials.
    Formatting rules:
    - Only write the body of the email
    - If included in the email body, format specific information as follows :
        * recipient first name = "{{.FirstName}}"
        * recipient last name = "{{.LastName}}"
        * recipient position = "{{.Position}}"
        * recipient email = "{{.Email}}"
        * sender email = "{{.From}}"
        * phishing URL = "{{.URL}}"
    """

 prompt = f"""
    Write a personalized phishing email for the following target:
    - Name: {name} {surname}
    - Role: {role}
    - Department: {department}
    - Interest: {interest}

    The email should:
    - Be professionally written.
    - Use their role and department to make the request seem credible.
    - Reference the interest to add relevance.
    - Request urgent action, such as clicking a link or updating credentials.
    - Include a fake but realistic-looking URL.
    """

        prompt = f"""
    Write a personalized fake phishing email pretending to be from the company's IT department. The email should:
    - Be addressed to {name} {surname}.
    - Use their role, {role}, and department, {department}, to make it sound credible.
    - Mention a work-related topic they might be interested in, such as {interest}.
    - Request the recipient to click on a link to update their password for the company's internal system.
    - Sound urgent and professional, but with subtle hints that it may be suspicious.
    - Include a fake but realistic-looking URL.
    """
        messages=[
            {"role": "system", "content": developer_message},
            {"role": "user", "content": prompt}
        ],

f"""
    Write a personalized fake phishing email for a target working in the {department} department.

    The email should:
    - Be professionally written.
    - Use their role department to make the request seem credible.
    - Mention a work-related topic they might be interested in.
    - Request urgent action, such as clicking a link or updating credentials.
    - Include a fake but realistic-looking URL.
    - Sound urgent and professional, but with subtle hints that it may be suspicious.
    """